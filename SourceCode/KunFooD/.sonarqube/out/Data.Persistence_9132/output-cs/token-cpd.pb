Г
pC:\Users\Turcu Nicusor\Desktop\Work\Anul 3\DotNet\KunFooD\SourceCode\KunFooD\Data.Persistence\DatabaseContext.cs
	namespace 	
Data
 
. 
Persistence 
{ 
public 

sealed 
class 
DatabaseContext '
:( )
	DbContext* 3
,3 4
IDatabaseContext5 E
{		 
public

 
DatabaseContext

 
(

 
DbContextOptions

 /
<

/ 0
DatabaseContext

0 ?
>

? @
options

A H
)

H I
:

J K
base

L P
(

P Q
options

Q X
)

X Y
{ 	
Database 
. 
EnsureCreated "
(" #
)# $
;$ %
} 	
public 
DatabaseContext 
( 
)  
{ 	
Database 
. 
EnsureCreated "
(" #
)# $
;$ %
} 	
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
modelBuilder 
. 
Entity 
<  
PairItem  (
>( )
() *
)* +
. 
HasKey 
( 
pairItem  
=>! #
new$ '
{( )
pairItem* 2
.2 3
IngredientId3 ?
,? @
pairItemA I
.I J
	RecipieIdJ S
}T U
)U V
;V W
modelBuilder 
. 
Entity 
<  
Post  $
>$ %
(% &
)& '
. 
HasKey 
( 
post 
=> 
new  #
{$ %
post& *
.* +
Id+ -
}. /
)/ 0
;0 1
} 	
public 
DbSet 
< 
User 
> 
Users  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Thread 
> 
Threads $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
Recipe 
> 
Recipes $
{% &
get' *
;* +
set, /
;/ 0
}1 2
public 
DbSet 
< 
Post 
> 
Posts  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
IngredientCategory '
>' ( 
IngredientCategories) =
{> ?
get@ C
;C D
setE H
;H I
}J K
public 
DbSet 
< 

Ingredient 
>  
Ingredients! ,
{- .
get/ 2
;2 3
set4 7
;7 8
}9 :
public   
DbSet   
<   
PairItem   
>   
	PairItems   (
{  ) *
get  + .
;  . /
set  0 3
;  3 4
}  5 6
public!! 
DbSet!! 
<!! 
Category!! 
>!! 

Categories!! )
{!!* +
get!!, /
;!!/ 0
set!!1 4
;!!4 5
}!!6 7
}"" 
}## №
qC:\Users\Turcu Nicusor\Desktop\Work\Anul 3\DotNet\KunFooD\SourceCode\KunFooD\Data.Persistence\IDatabaseContext.cs
	namespace 	
Data
 
. 
Persistence 
{ 
public 

	interface 
IDatabaseContext %
{		 
DbSet

 
<

 
User

 
>

 
Users

 
{

 
get

 
;

  
set

! $
;

$ %
}

& '
DbSet 
< 
Thread 
> 
Threads 
{ 
get  #
;# $
set% (
;( )
}* +
DbSet 
< 
Recipe 
> 
Recipes 
{ 
get  #
;# $
set% (
;( )
}* +
DbSet 
< 
Post 
> 
Posts 
{ 
get 
;  
set! $
;$ %
}& '
DbSet 
< 
IngredientCategory  
>  ! 
IngredientCategories" 6
{7 8
get9 <
;< =
set> A
;A B
}C D
DbSet 
< 

Ingredient 
> 
Ingredients %
{& '
get( +
;+ ,
set- 0
;0 1
}2 3
DbSet 
< 
PairItem 
> 
	PairItems !
{" #
get$ '
;' (
set) ,
;, -
}. /
DbSet 
< 
Category 
> 

Categories "
{# $
get% (
;( )
set* -
;- .
}/ 0
int 
SaveChanges 
( 
) 
; 
} 
} ча
ЙC:\Users\Turcu Nicusor\Desktop\Work\Anul 3\DotNet\KunFooD\SourceCode\KunFooD\Data.Persistence\Migrations\20180108200448_RecipesUpdated.cs
	namespace 	
Data
 
. 
Persistence 
. 

Migrations %
{ 
public 

partial 
class 
RecipesUpdated '
:( )
	Migration* 3
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{		 	
migrationBuilder

 
.

 
CreateTable

 (
(

( )
name 
: 
$str "
," #
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
	CreatedAt 
= 
table  %
.% &
Column& ,
<, -
DateTime- 5
>5 6
(6 7
type7 ;
:; <
$str= H
,H I
nullableJ R
:R S
falseT Y
)Y Z
,Z [
Description 
=  !
table" '
.' (
Column( .
<. /
string/ 5
>5 6
(6 7
type7 ;
:; <
$str= L
,L M
nullableN V
:V W
trueX \
)\ ]
,] ^
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
trueQ U
)U V
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% 4
,4 5
x6 7
=>8 :
x; <
.< =
Id= ?
)? @
;@ A
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str ,
,, -
columns 
: 
table 
=> !
new" %
{ 
Id 
= 
table 
. 
Column %
<% &
Guid& *
>* +
(+ ,
type, 0
:0 1
$str2 D
,D E
nullableF N
:N O
falseP U
)U V
,V W
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 E
,E F
nullableG O
:O P
trueQ U
)U V
} 
, 
constraints 
: 
table "
=># %
{   
table!! 
.!! 

PrimaryKey!! $
(!!$ %
$str!!% >
,!!> ?
x!!@ A
=>!!B D
x!!E F
.!!F G
Id!!G I
)!!I J
;!!J K
}"" 
)"" 
;"" 
migrationBuilder$$ 
.$$ 
CreateTable$$ (
($$( )
name%% 
:%% 
$str%% #
,%%# $
columns&& 
:&& 
table&& 
=>&& !
new&&" %
{'' 
Id(( 
=(( 
table(( 
.(( 
Column(( %
<((% &
Guid((& *
>((* +
(((+ ,
type((, 0
:((0 1
$str((2 D
,((D E
nullable((F N
:((N O
false((P U
)((U V
,((V W
Cost)) 
=)) 
table))  
.))  !
Column))! '
<))' (
double))( .
>)). /
())/ 0
type))0 4
:))4 5
$str))6 =
,))= >
nullable))? G
:))G H
false))I N
)))N O
,))O P 
IngredientCategoryId** (
=**) *
table**+ 0
.**0 1
Column**1 7
<**7 8
Guid**8 <
>**< =
(**= >
type**> B
:**B C
$str**D V
,**V W
nullable**X `
:**` a
false**b g
)**g h
,**h i
MeasuredUnit++  
=++! "
table++# (
.++( )
Column++) /
<++/ 0
string++0 6
>++6 7
(++7 8
type++8 <
:++< =
$str++> M
,++M N
nullable++O W
:++W X
true++Y ]
)++] ^
,++^ _
Name,, 
=,, 
table,,  
.,,  !
Column,,! '
<,,' (
string,,( .
>,,. /
(,,/ 0
type,,0 4
:,,4 5
$str,,6 E
,,,E F
nullable,,G O
:,,O P
true,,Q U
),,U V
}-- 
,-- 
constraints.. 
:.. 
table.. "
=>..# %
{// 
table00 
.00 

PrimaryKey00 $
(00$ %
$str00% 5
,005 6
x007 8
=>009 ;
x00< =
.00= >
Id00> @
)00@ A
;00A B
}11 
)11 
;11 
migrationBuilder33 
.33 
CreateTable33 (
(33( )
name44 
:44 
$str44 !
,44! "
columns55 
:55 
table55 
=>55 !
new55" %
{66 
IngredientId77  
=77! "
table77# (
.77( )
Column77) /
<77/ 0
Guid770 4
>774 5
(775 6
type776 :
:77: ;
$str77< N
,77N O
nullable77P X
:77X Y
false77Z _
)77_ `
,77` a
	RecipieId88 
=88 
table88  %
.88% &
Column88& ,
<88, -
Guid88- 1
>881 2
(882 3
type883 7
:887 8
$str889 K
,88K L
nullable88M U
:88U V
false88W \
)88\ ]
,88] ^
Quantity99 
=99 
table99 $
.99$ %
Column99% +
<99+ ,
double99, 2
>992 3
(993 4
type994 8
:998 9
$str99: A
,99A B
nullable99C K
:99K L
false99M R
)99R S
}:: 
,:: 
constraints;; 
:;; 
table;; "
=>;;# %
{<< 
table== 
.== 

PrimaryKey== $
(==$ %
$str==% 3
,==3 4
x==5 6
=>==7 9
new==: =
{==> ?
x==@ A
.==A B
IngredientId==B N
,==N O
x==P Q
.==Q R
	RecipieId==R [
}==\ ]
)==] ^
;==^ _
}>> 
)>> 
;>> 
migrationBuilder@@ 
.@@ 
CreateTable@@ (
(@@( )
nameAA 
:AA 
$strAA 
,AA 
columnsBB 
:BB 
tableBB 
=>BB !
newBB" %
{CC 
IdDD 
=DD 
tableDD 
.DD 
ColumnDD %
<DD% &
GuidDD& *
>DD* +
(DD+ ,
typeDD, 0
:DD0 1
$strDD2 D
,DDD E
nullableDDF N
:DDN O
falseDDP U
)DDU V
,DDV W
ContentEE 
=EE 
tableEE #
.EE# $
ColumnEE$ *
<EE* +
stringEE+ 1
>EE1 2
(EE2 3
typeEE3 7
:EE7 8
$strEE9 H
,EEH I
nullableEEJ R
:EER S
trueEET X
)EEX Y
,EEY Z
	CreatedAtFF 
=FF 
tableFF  %
.FF% &
ColumnFF& ,
<FF, -
DateTimeFF- 5
>FF5 6
(FF6 7
typeFF7 ;
:FF; <
$strFF= H
,FFH I
nullableFFJ R
:FFR S
falseFFT Y
)FFY Z
,FFZ [
UserIdGG 
=GG 
tableGG "
.GG" #
ColumnGG# )
<GG) *
GuidGG* .
>GG. /
(GG/ 0
typeGG0 4
:GG4 5
$strGG6 H
,GGH I
nullableGGJ R
:GGR S
falseGGT Y
)GGY Z
}HH 
,HH 
constraintsII 
:II 
tableII "
=>II# %
{JJ 
tableKK 
.KK 

PrimaryKeyKK $
(KK$ %
$strKK% /
,KK/ 0
xKK1 2
=>KK3 5
xKK6 7
.KK7 8
IdKK8 :
)KK: ;
;KK; <
}LL 
)LL 
;LL 
migrationBuilderNN 
.NN 
CreateTableNN (
(NN( )
nameOO 
:OO 
$strOO 
,OO  
columnsPP 
:PP 
tablePP 
=>PP !
newPP" %
{QQ 
IdRR 
=RR 
tableRR 
.RR 
ColumnRR %
<RR% &
GuidRR& *
>RR* +
(RR+ ,
typeRR, 0
:RR0 1
$strRR2 D
,RRD E
nullableRRF N
:RRN O
falseRRP U
)RRU V
,RRV W
ContentSS 
=SS 
tableSS #
.SS# $
ColumnSS$ *
<SS* +
stringSS+ 1
>SS1 2
(SS2 3
typeSS3 7
:SS7 8
$strSS9 H
,SSH I
nullableSSJ R
:SSR S
trueSST X
)SSX Y
,SSY Z
CostTT 
=TT 
tableTT  
.TT  !
ColumnTT! '
<TT' (
doubleTT( .
>TT. /
(TT/ 0
typeTT0 4
:TT4 5
$strTT6 =
,TT= >
nullableTT? G
:TTG H
falseTTI N
)TTN O
,TTO P
CuisineUU 
=UU 
tableUU #
.UU# $
ColumnUU$ *
<UU* +
byteUU+ /
>UU/ 0
(UU0 1
typeUU1 5
:UU5 6
$strUU7 @
,UU@ A
nullableUUB J
:UUJ K
falseUUL Q
)UUQ R
,UUR S
NameVV 
=VV 
tableVV  
.VV  !
ColumnVV! '
<VV' (
stringVV( .
>VV. /
(VV/ 0
typeVV0 4
:VV4 5
$strVV6 E
,VVE F
nullableVVG O
:VVO P
trueVVQ U
)VVU V
,VVV W
NrPeopleQuantityWW $
=WW% &
tableWW' ,
.WW, -
ColumnWW- 3
<WW3 4
intWW4 7
>WW7 8
(WW8 9
typeWW9 =
:WW= >
$strWW? D
,WWD E
nullableWWF N
:WWN O
falseWWP U
)WWU V
,WWV W
PreparationTimeXX #
=XX$ %
tableXX& +
.XX+ ,
ColumnXX, 2
<XX2 3
intXX3 6
>XX6 7
(XX7 8
typeXX8 <
:XX< =
$strXX> C
,XXC D
nullableXXE M
:XXM N
falseXXO T
)XXT U
,XXU V
RatingYY 
=YY 
tableYY "
.YY" #
ColumnYY# )
<YY) *
doubleYY* 0
>YY0 1
(YY1 2
typeYY2 6
:YY6 7
$strYY8 ?
,YY? @
nullableYYA I
:YYI J
falseYYK P
)YYP Q
,YYQ R
StatusZZ 
=ZZ 
tableZZ "
.ZZ" #
ColumnZZ# )
<ZZ) *
byteZZ* .
>ZZ. /
(ZZ/ 0
typeZZ0 4
:ZZ4 5
$strZZ6 ?
,ZZ? @
nullableZZA I
:ZZI J
falseZZK P
)ZZP Q
,ZZQ R
UserId[[ 
=[[ 
table[[ "
.[[" #
Column[[# )
<[[) *
Guid[[* .
>[[. /
([[/ 0
type[[0 4
:[[4 5
$str[[6 H
,[[H I
nullable[[J R
:[[R S
false[[T Y
)[[Y Z
,[[Z [
VotesNumber\\ 
=\\  !
table\\" '
.\\' (
Column\\( .
<\\. /
int\\/ 2
>\\2 3
(\\3 4
type\\4 8
:\\8 9
$str\\: ?
,\\? @
nullable\\A I
:\\I J
false\\K P
)\\P Q
}]] 
,]] 
constraints^^ 
:^^ 
table^^ "
=>^^# %
{__ 
table`` 
.`` 

PrimaryKey`` $
(``$ %
$str``% 1
,``1 2
x``3 4
=>``5 7
x``8 9
.``9 :
Id``: <
)``< =
;``= >
}aa 
)aa 
;aa 
migrationBuildercc 
.cc 
CreateTablecc (
(cc( )
namedd 
:dd 
$strdd 
,dd  
columnsee 
:ee 
tableee 
=>ee !
newee" %
{ff 
Idgg 
=gg 
tablegg 
.gg 
Columngg %
<gg% &
Guidgg& *
>gg* +
(gg+ ,
typegg, 0
:gg0 1
$strgg2 D
,ggD E
nullableggF N
:ggN O
falseggP U
)ggU V
,ggV W

CategoryIdhh 
=hh  
tablehh! &
.hh& '
Columnhh' -
<hh- .
Guidhh. 2
>hh2 3
(hh3 4
typehh4 8
:hh8 9
$strhh: L
,hhL M
nullablehhN V
:hhV W
falsehhX ]
)hh] ^
,hh^ _
	CreatedAtii 
=ii 
tableii  %
.ii% &
Columnii& ,
<ii, -
DateTimeii- 5
>ii5 6
(ii6 7
typeii7 ;
:ii; <
$strii= H
,iiH I
nullableiiJ R
:iiR S
falseiiT Y
)iiY Z
,iiZ [
Descriptionjj 
=jj  !
tablejj" '
.jj' (
Columnjj( .
<jj. /
stringjj/ 5
>jj5 6
(jj6 7
typejj7 ;
:jj; <
$strjj= L
,jjL M
nullablejjN V
:jjV W
truejjX \
)jj\ ]
,jj] ^
Namekk 
=kk 
tablekk  
.kk  !
Columnkk! '
<kk' (
stringkk( .
>kk. /
(kk/ 0
typekk0 4
:kk4 5
$strkk6 E
,kkE F
nullablekkG O
:kkO P
truekkQ U
)kkU V
,kkV W
UserIdll 
=ll 
tablell "
.ll" #
Columnll# )
<ll) *
Guidll* .
>ll. /
(ll/ 0
typell0 4
:ll4 5
$strll6 H
,llH I
nullablellJ R
:llR S
falsellT Y
)llY Z
}mm 
,mm 
constraintsnn 
:nn 
tablenn "
=>nn# %
{oo 
tablepp 
.pp 

PrimaryKeypp $
(pp$ %
$strpp% 1
,pp1 2
xpp3 4
=>pp5 7
xpp8 9
.pp9 :
Idpp: <
)pp< =
;pp= >
}qq 
)qq 
;qq 
migrationBuilderss 
.ss 
CreateTabless (
(ss( )
namett 
:tt 
$strtt 
,tt 
columnsuu 
:uu 
tableuu 
=>uu !
newuu" %
{vv 
Idww 
=ww 
tableww 
.ww 
Columnww %
<ww% &
Guidww& *
>ww* +
(ww+ ,
typeww, 0
:ww0 1
$strww2 D
,wwD E
nullablewwF N
:wwN O
falsewwP U
)wwU V
,wwV W
	CreatedAtxx 
=xx 
tablexx  %
.xx% &
Columnxx& ,
<xx, -
DateTimexx- 5
>xx5 6
(xx6 7
typexx7 ;
:xx; <
$strxx= H
,xxH I
nullablexxJ R
:xxR S
falsexxT Y
)xxY Z
,xxZ [
Descriptionyy 
=yy  !
tableyy" '
.yy' (
Columnyy( .
<yy. /
stringyy/ 5
>yy5 6
(yy6 7
typeyy7 ;
:yy; <
$stryy= L
,yyL M
nullableyyN V
:yyV W
trueyyX \
)yy\ ]
,yy] ^
Emailzz 
=zz 
tablezz !
.zz! "
Columnzz" (
<zz( )
stringzz) /
>zz/ 0
(zz0 1
typezz1 5
:zz5 6
$strzz7 F
,zzF G
nullablezzH P
:zzP Q
truezzR V
)zzV W
,zzW X
IsAdmin{{ 
={{ 
table{{ #
.{{# $
Column{{$ *
<{{* +
bool{{+ /
>{{/ 0
({{0 1
type{{1 5
:{{5 6
$str{{7 <
,{{< =
nullable{{> F
:{{F G
false{{H M
){{M N
,{{N O
Password|| 
=|| 
table|| $
.||$ %
Column||% +
<||+ ,
string||, 2
>||2 3
(||3 4
type||4 8
:||8 9
$str||: I
,||I J
nullable||K S
:||S T
true||U Y
)||Y Z
,||Z [
Token}} 
=}} 
table}} !
.}}! "
Column}}" (
<}}( )
string}}) /
>}}/ 0
(}}0 1
type}}1 5
:}}5 6
$str}}7 F
,}}F G
nullable}}H P
:}}P Q
true}}R V
)}}V W
,}}W X
UserName~~ 
=~~ 
table~~ $
.~~$ %
Column~~% +
<~~+ ,
string~~, 2
>~~2 3
(~~3 4
type~~4 8
:~~8 9
$str~~: I
,~~I J
nullable~~K S
:~~S T
true~~U Y
)~~Y Z
} 
, 
constraints
АА 
:
АА 
table
АА "
=>
АА# %
{
ББ 
table
ВВ 
.
ВВ 

PrimaryKey
ВВ $
(
ВВ$ %
$str
ВВ% /
,
ВВ/ 0
x
ВВ1 2
=>
ВВ3 5
x
ВВ6 7
.
ВВ7 8
Id
ВВ8 :
)
ВВ: ;
;
ВВ; <
}
ГГ 
)
ГГ 
;
ГГ 
}
ДД 	
	protected
ЖЖ 
override
ЖЖ 
void
ЖЖ 
Down
ЖЖ  $
(
ЖЖ$ %
MigrationBuilder
ЖЖ% 5
migrationBuilder
ЖЖ6 F
)
ЖЖF G
{
ЗЗ 	
migrationBuilder
ИИ 
.
ИИ 
	DropTable
ИИ &
(
ИИ& '
name
ЙЙ 
:
ЙЙ 
$str
ЙЙ "
)
ЙЙ" #
;
ЙЙ# $
migrationBuilder
ЛЛ 
.
ЛЛ 
	DropTable
ЛЛ &
(
ЛЛ& '
name
ММ 
:
ММ 
$str
ММ ,
)
ММ, -
;
ММ- .
migrationBuilder
ОО 
.
ОО 
	DropTable
ОО &
(
ОО& '
name
ПП 
:
ПП 
$str
ПП #
)
ПП# $
;
ПП$ %
migrationBuilder
СС 
.
СС 
	DropTable
СС &
(
СС& '
name
ТТ 
:
ТТ 
$str
ТТ !
)
ТТ! "
;
ТТ" #
migrationBuilder
ФФ 
.
ФФ 
	DropTable
ФФ &
(
ФФ& '
name
ХХ 
:
ХХ 
$str
ХХ 
)
ХХ 
;
ХХ 
migrationBuilder
ЧЧ 
.
ЧЧ 
	DropTable
ЧЧ &
(
ЧЧ& '
name
ШШ 
:
ШШ 
$str
ШШ 
)
ШШ  
;
ШШ  !
migrationBuilder
ЪЪ 
.
ЪЪ 
	DropTable
ЪЪ &
(
ЪЪ& '
name
ЫЫ 
:
ЫЫ 
$str
ЫЫ 
)
ЫЫ  
;
ЫЫ  !
migrationBuilder
ЭЭ 
.
ЭЭ 
	DropTable
ЭЭ &
(
ЭЭ& '
name
ЮЮ 
:
ЮЮ 
$str
ЮЮ 
)
ЮЮ 
;
ЮЮ 
}
ЯЯ 	
}
аа 
}бб 